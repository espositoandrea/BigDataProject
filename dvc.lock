schema: '2.0'
stages:
  cleaning:
    cmd: sh cleaning.sh data/transports/* >data/cleaned.csv
    deps:
    - path: cleaning.sh
      md5: b2c4d990ec4b7b3bb93408b2b6473d04
      size: 358
    - path: data/transports
      md5: 077f74552eca7c022f474924d26c56f7.dir
      size: 280350103
      nfiles: 1012
    params:
      params.yaml:
        clustering.k: 100
        seed: 42
    outs:
    - path: data/cleaned.csv
      md5: c6a47508029621ae8be8853f4f7bd57c
      size: 31507827
  clustering:
    cmd: python clustering.py -m data/clusterer.pkl data/cleaned.csv >data/clustered.csv
    deps:
    - path: clustering.py
      md5: 97358248286b7a85b032ada4dd259f25
      size: 2236
    - path: data/cleaned.csv
      md5: c6a47508029621ae8be8853f4f7bd57c
      size: 31507827
    params:
      params.yaml:
        clustering.k: 100
        seed: 42
    outs:
    - path: data/clustered.csv
      md5: 870c6793983243ac9496371b3c2c5eec
      size: 36820601
    - path: data/clusterer.pkl
      md5: adcca6dc07bb836aa0d56d55fbc6ab67
      size: 501874
  aggregate:
    cmd: python aggregate.py data/clustered.csv >data/aggregates.csv
    deps:
    - path: aggregate.py
      md5: 0cd989947a5526177474751e1abc999d
      size: 4565
    - path: data/clustered.csv
      md5: 870c6793983243ac9496371b3c2c5eec
      size: 36820601
    outs:
    - path: data/aggregates.csv
      md5: baecfc0330a17e9873f41bcb127f7890
      size: 440273104
